<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>LOGIN</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
<style>

.profiletext {
	font-size: 50px;
}

</style>
</head>
<body>
<div class="text-center" id=“profilepic”>
  <p class=profiletext> 안녕하세요 :D </p>
  <a href="wn/viewall"> 전체보기 </a><br/>
</div>
<br/>
<div class="mx-auto" style=" width:400px;"> 
<form action="member/login" method="post" id="loginform">
  <div class="id">
    <label for="exampleInputEmail1" class="form-label">이메일</label>
    <input type="email" class="form-control" id="exampleInputEmail1" name="email" placeholder="이메일을 입력하세요">
  </div>
  <br/>
  <div class="password">
    <label for="exampleInputPassword1" class="form-label">비밀번호</label>
    <input type="password" class="form-control" id="exampleInputPassword1" name="pw" placeholder="비밀번호를 입력하세요">
  </div>
  <br/>
  <div class="form-check">
    <input type="checkbox" class="form-check-input" id="exampleCheck1">
    <label class="form-check-label" for="exampleCheck1">자동 로그인</label>
  </div>
  <div class="btn">
  <button type="submit" class="btn btn-outline-primary" id="loginbtn">로그인</button>
</div>
</form>
</div>
</body>

<script>
	document.getElementById("loginbtn").addEventListener('click', function(e){
		// 폼에 입력된 데이터 가져오기 
		var formData = new FormData(
				document.getElementById("loginform"));
		
		// ajax 객체 생성 
		var xhr = new XMLHttpRequest();
		// 요청 생성 
		xhr.open("POST", "member/login", true);
		// 전송 
		xhr.send(formData);
		
		// 응답을 처리 
		xhr.onload = function(){
			if(xhr.status == 200){
				var obj = JSON.parse(xhr.responseText);
				alert("회원가입 상태 : " + obj.result)
			}
		}
		
	})
	
	document.getElementById("joinbtn").addEventListener('click', function(e){
		// 폼에 입력된 데이터 가져오기 
		var formData = new FormData(
				document.getElementById("memberform"));
		// ajax로 데이터를 전송해서 결과를 받기 
		var xhr = new XMLHttpRequest();
		// 요청 생성 
		xhr.open("POST", "member/join", true);
		// 전송 
		xhr.send(formData);
		// 응답 받기 
		xhr.onload = function(){
			if(xhr.status == 200){
				alert(xhr.responseText);
				if(o.result == true){
					location.href="item/list"
			}
		}
	}
})
	
</script>
</html>
