<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>detailview</title>
</head>
<body>
	<div align="center" id="disp">
		<h2>상품 상세 보기</h2>
		<table>
			<tr>
				<td><img id='img'/></td>
				<td align='center'>
				<table>
					<tr height='50'>
						<td width='80'>상품명</td>
						<td width='160' id='itemid'></td>
					</tr>
					<tr height='50'>
						<td width='80'>가격</td>
						<td width='160' id='itemid'></td>
					</tr>
					<tr height='50'>
						<td width='80'>비고</td>
						<td width='160' id='itemid'></td>
					</tr>
					<tr>
						<td colspan='2' align='center' width='240'>
						<a href="viewall">목록보기</a><br/>
						<a href="#">수정하기</a><br/>
						<a href="#">삭제하기</a><br/>
						</td>
					</tr>
				</table>
			</td>
			</tr>
		</table>
	</div>
</body>
<script>
	// 조회할 winenum 가져오기 
	var winenum = sissionStorage["winenum"];
	// ajax 객체 생성 
	var xhr = new XMLHttpRequest();
	// 요청 생성 
	xhr.open('get', '/note/detail' + winenum);
	// 요청 전송 
	xhr.send(null);
	
	// 서버의 응답 처리
	xhr.onreadystatechange = function(){
		if(xhr.readyState == 4) {
			// 정상 응답을 한 경우 
			if(xhr.status >= 200 && xhr.status < 300){
				
				// 데이터 확인 
				// alert(xhr.responseText)
				
				// 데이터 파싱 
				var object = JSON.parse(xhr.responseText)
				if(object.result == true) {
					// item 키의 값을 가져옴 
					var note = object.note;
					document.getElementById("img").src = 
						"../../img/" + note.pictureurl
					document.getElementById("winename").innerHTML = 
						note.winename;
					document.getElementById("").innerHTML = 
						note.winename;
							
					} else {
						document.getElementById("disp").innerHTML = 
							'<h3>데이터가 존재하지 않습니다</h3>';
							}
					}
				}
			}
</script>
</html>